!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},r={},n={},o={}.hasOwnProperty,c=/^\.\.?(\/|$)/,i=function(e,t){for(var r,n=[],o=(c.test(t)?e+"/"+t:t).split("/"),i=0,s=o.length;i<s;i++)r=o[i],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(r){var n=i(s(t),r);return e.require(n,t)}},u=function(e,t){var n=p&&p.createHot(e),o={id:e,exports:{},hot:n};return r[e]=o,t(o.exports,a(e),o),o.exports},l=function(e){return n[e]?l(n[e]):e},d=function(e,t){return l(i(s(e),t))},f=function(e,n){null==n&&(n="/");var c=l(e);if(o.call(r,c))return r[c].exports;if(o.call(t,c))return u(c,t[c]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};f.alias=function(e,t){n[t]=e};var g=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,v=function(e){if(g.test(e)){var t=e.replace(g,"");o.call(n,t)&&n[t].replace(g,"")!==t+"/index"||(n[t]=e)}if(h.test(e)){var r=e.replace(h,"");o.call(n,r)||(n[r]=e)}};f.register=f.define=function(e,n){if(e&&"object"==typeof e)for(var c in e)o.call(e,c)&&f.register(c,e[c]);else t[e]=n,delete r[e],v(e)},f.list=function(){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};var p=e._hmr&&new e._hmr(d,f,t,r);f._cache=r,f.hmr=p&&p.wrap,f.brunch=!0,e.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("actions/save-score.js",function(e,t,r){"use strict";function n(e){var t=window,r=t.localStorage,n=(0,c.getConfig)(),i=n.projectName,s=i+"_"+o.PLAYER,a=i+"_"+o.CPU,u=parseInt(r.getItem(s),10)||0,l=parseInt(r.getItem(a),10)||0;e===o.PLAYER?r.setItem(s,u+1):e===o.CPU&&r.setItem(a,l+1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var o=t("./../constants/decisions"),c=t("./../loaders/config-loader")}),require.register("choices.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.createImagesForResult=e.cleanUpResultScreen=e.cleanUpChoiceScreen=e.getChoiceElements=e.initChoices=void 0;var o=t("./constants/screens"),c=t("./loaders/image-loader"),i=t("./screen"),s=t("./helpers/get-choice"),a=n(s),u={},l=void 0,d=function(e){l=e;var t=(0,i.getScreen)(o.CHOICE),r=(0,c.getImageElements)();u=t.querySelector(".choices"),u.appendChild(r.rock),u.appendChild(r.paper),u.appendChild(r.scissors),u.addEventListener("click",f)},f=function(e){var t=e.target,r=t.matches||t.msMatchesSelector;if(r.call(t,"img")){e.stopPropagation();var n=e.target,o=(0,a["default"])(n.dataset.choice);l(o)}},g=function(){var e=(0,c.getImageElements)();u.removeEventListener("click",f),u.removeChild(e.rock),u.removeChild(e.paper),u.removeChild(e.scissors)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,i.getScreen)(o.RESULT),n=(0,c.getImageElements)(),s=e.getChoiceMade(),a=t.getChoiceMade(),u=r.querySelector(".choice-results"),l=n[s],d=void 0;d=s===a?l.cloneNode():n[a],l.classList.add("left"),d.classList.add("right"),u.appendChild(l),u.appendChild(d)},v=function(){for(var e=(0,i.getScreen)(o.RESULT),t=e.querySelector(".choice-results");t.firstChild;){var r=t.firstChild;r.classList.remove("left"),r.classList.remove("right"),t.removeChild(r)}},p=function(){return u};e.initChoices=d,e.getChoiceElements=p,e.cleanUpChoiceScreen=g,e.cleanUpResultScreen=v,e.createImagesForResult=h}),require.register("classes/choice.js",function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(){function e(t,r){n(this,e),this.choiceName=t,this.beats=r}return o(e,[{key:"getChoiceMade",value:function(){return this.choiceName}},{key:"hasBeaten",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.choiceName!==e.beats&&this.choiceName!==e.choiceName}}]),e}();e["default"]=c}),require.register("constants/choices.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ROCK="rock",e.PAPER="paper",e.SCISSORS="scissors"}),require.register("constants/decisions.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PLAYER="player",e.CPU="cpu",e.DRAW="draw"}),require.register("constants/screens.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOADING="loading",e.CHOICE="choice",e.RESULT="result"}),require.register("game.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("./loaders/styles-loader"),c=n(o),i=t("./loaders/image-loader"),s=t("./screen"),a=t("./constants/screens"),u=t("./choices"),l=t("./helpers/get-choice"),d=n(l),f=t("./helpers/random-choice"),g=n(f),h=t("./actions/save-score"),v=n(h),p=t("./constants/decisions"),m=t("./loaders/config-loader"),C=n(m),S=function(){_(),(0,s.initScreens)(),(0,u.initChoices)(y),(0,s.changeToScreen)(a.CHOICE)},_=function(){var e=document.getElementById("game"),t=(0,m.getConfig)();e.style.backgroundImage="url("+t.theme.path+"/"+t.images.background+")",e.style.fontFamily=t.theme.fontFamily},y=function(e){(0,u.cleanUpChoiceScreen)();var t=(0,d["default"])((0,g["default"])()),r=void 0;r=e.hasBeaten(t)?p.PLAYER:t.hasBeaten(e)?p.CPU:p.DRAW,(0,v["default"])(r),(0,s.updateResultScreen)(e,t,E),(0,s.changeToScreen)(a.RESULT)},E=function(){(0,u.cleanUpResultScreen)(),(0,u.initChoices)(y),(0,s.changeToScreen)(a.CHOICE)},b=function(){(0,C["default"])().then(function(){return(0,c["default"])(),(0,i.loadImages)()}).then(S)};e["default"]=b}),require.register("helpers/get-choice.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){switch(e){case s.ROCK:return new i["default"](s.ROCK,s.SCISSORS);case s.PAPER:return new i["default"](s.PAPER,s.ROCK);case s.SCISSORS:return new i["default"](s.SCISSORS,s.PAPER);default:throw new Error("Choice not found",e)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var c=t("./../classes/choice"),i=n(c),s=t("./../constants/choices")}),require.register("helpers/get-score.js",function(e,t,r){"use strict";function n(e){var t=window,r=t.localStorage,n=(0,c.getConfig)(),i=n.projectName,s=parseInt(r.getItem(i+"_"+o.PLAYER),10)||0,a=parseInt(r.getItem(i+"_"+o.CPU),10)||0;return{player:s,cpu:a}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var o=t("./../constants/decisions"),c=t("./../loaders/config-loader")}),require.register("helpers/random-choice.js",function(e,t,r){"use strict";function n(){var e=Math.random();return e<=.33?o.ROCK:e<=.66?o.PAPER:o.SCISSORS}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var o=t("./../constants/choices")}),require.register("initialize.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=t("./game"),c=n(o);document.addEventListener("DOMContentLoaded",function(){return(0,c["default"])()})}),require.register("loaders/config-loader.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},o=function(){return new Promise(function(e,t){fetch("game.json").then(function(e){return e.json()}).then(function(t){n=t,e()})["catch"](t)})};e.getConfig=function(){return n};e["default"]=o}),require.register("loaders/image-loader.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImageElements=e.loadImages=void 0;var n=t("./config-loader"),o={},c=function(e,t){return new Promise(function(r,n){var c=new Image;c.id=t,c.className="choice",c.src=e,c.dataset.choice=t,c.onload=function(){o[t]=c,r()},c.onerror=n})},i=function(){var e=(0,n.getConfig)(),t=e.theme,r=e.images,o=t.path;0===r.length&&console.error("No images passed in");var i=[];return Object.keys(r).map(function(e){var t=o+"/"+r[e];return i.push(c(t,e))}),Promise.all(i)},s=function(){return o};e.loadImages=i,e.getImageElements=s}),require.register("loaders/styles-loader.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./config-loader"),o=document.head||document.getElementsByTagName("head")[0],c=function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.media="all",o.appendChild(t)},i=function(){var e=(0,n.getConfig)(),t=e.theme,r=e.customStyles;r.map(function(e){return c(e)});var o=t.path;c(o+"/theme.css")};e["default"]=i}),require.register("screen.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateResultScreen=e.changeToScreen=e.getScreen=e.initScreens=void 0;var o=t("./constants/screens"),c=t("./loaders/config-loader"),i=t("./choices"),s=t("./helpers/get-score"),a=n(s),u={},l="is-hidden",d="fade-in",f=function(){var e=document.getElementById("game");u[o.LOADING]=e.querySelector("#loading-screen"),u[o.CHOICE]=e.querySelector("#choice-screen"),u[o.RESULT]=e.querySelector("#result-screen");var t=(0,c.getConfig)(),r=t.screens,n=r.choice,i=n.title,s=n.subtitle;u[o.CHOICE].querySelector(".title").textContent=i,u[o.CHOICE].querySelector(".subtitle").textContent=s},g=function(e){var t=u[e];if(void 0!==t)return t;throw new Error("Could not find screen",e)},h=function(e){var t=u[e];if(void 0===t)throw new Error("Cannot change to screen that does not exist");t.classList.add(d),t.classList.remove(l),Object.keys(u).map(function(t){if(e!==t){var r=u[t].classList;r.contains(l)===!1?r.add(l):r.contains(d)?r.remove(d):(r.add(l),r.remove(d))}})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];(0,i.createImagesForResult)(e,t);var n=g(o.RESULT),s=n.querySelector(".subtitle"),u=n.querySelector(".score"),l=n.querySelector(".feedback"),d=document.getElementById("replay-button"),f=e.getChoiceMade(),h=t.getChoiceMade(),v=void 0,p=void 0,m=!1,C=(0,c.getConfig)(),S=C.labels,_=C.screens,y=_.result,E=S[f],b=S[h];e.hasBeaten(t)?(v=y.won,p=y.feedback.won):t.hasBeaten(e)?(v=y.lost,p=y.feedback.lost):(m=!0,v=y.draw,p=y.feedback.draw),m||(p=p.replace("{player}","<strong>"+E+"</strong>").replace("{cpu}",""+b));var I=(0,a["default"])(),P=I.player,j=I.cpu;s.textContent=v,u.textContent=P+"-"+j,l.innerHTML=p,d.addEventListener("click",r)};e.initScreens=f,e.getScreen=g,e.changeToScreen=h,e.updateResultScreen=v}),require.register("___globals___",function(e,t,r){})}(),require("___globals___");